<div class="header">
    <h3 class="header__title">todo-list!</h3>
    <input 
        type="text"
        class="header__todo-input"
        [(ngModel)]="todoTitle"
    >
    <button class="header__btn" (click)="addTodo()">Save</button>

    <div class="todo-item" *ngFor="let todo of todos">
        <div class="todo-item-left">
            <input
                class="todo-item-left__custom-checkbox"
                type="checkbox"
                [(ngModel)]="todo.completed"
            >
            <div
                *ngIf="!todo.editing; else editingTodo" 
                class="todo-item__label"
                [ngClass]="{ 'completed' : todo.completed }"
                (dblclick)="editTodo(todo)"
                >
                {{ todo.id }}. {{ todo.title }}
            </div>
            <ng-template #editingTodo>
                <input
                    type="text"
                    class="todo-item__edit"
                    [(ngModel)]="todo.title"
                    (blur)="doneEdit(todo)"
                    (keyup.enter)="doneEdit(todo)"
                    (keyup.enter)="cancelEdit(todo)"
                    autofocus
                >
            </ng-template>
        </div>
        <div class="remove-item" (click)="deleteTodo(todo.id)">
            &times;
        </div>
    </div>

    <div class="extra-container">
            <label class="check-all"><input type="checkbox" class="check-all__input" (change)="checkAllTodos()">Check All</label>
        <div class="extra-container__item-left">{{ remaining() }} items left</div>
    </div>

</div>