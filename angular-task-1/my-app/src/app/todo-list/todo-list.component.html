<div class="app--todo" *ngIf="!todoListService.isLoading">
    <h3 class="app--todo--title">todo-list!</h3>
    
    <div class="app--control">
        <input
            type="text"
            class="app--control--todo-input"
            [(ngModel)]="todoListService.todoSearch"
            (ngModelChange)="todoListService.search()"
            >
        <button
            class="app--control--btn"
            (click)="todoListService.save()">
            Save
        </button>
        
    </div>

    <div
        class="app--todo-list--action-list"
        *ngIf="todoListService.settings">
        <button
            class="app--todo-list--action"
            (click)="todoListService.sort()"
            *ngIf="todoListService.settings.isSortActive">
            sort
        </button>
    </div>
    
    <div class="app--todo-list">
        <div class="app--todo-list--todo">
            
            <app-todo
                *ngFor="let todo of todoListService.todoList; let i = index"
                [todo]="todo"
                [index]="i"
                [isTodoSelected]="todoListService.isTodoSelected(todo)"
                (onTodoSelect)="selectTodo($event.id)"
            >
            </app-todo>
        </div>
    </div>
</div>
<div class="app--todo-list--selected-todo">
    <!-- <router-outlet></router-outlet> -->
</div>
    
<div class="app--todo-list--loading" *ngIf="todoListService.isLoading">
    loading...
</div>




















<!-- <div class="header" *ngIf="!todoListService.isLoading">
    <h3 class="header__title">todo-list!</h3>
    <div class="control">
        <input
            class="control__todo-input"
            type="text"
            [(ngModel)]="todoListService.todoTitle"
            (keyup.enter)="todoListService.addTodo()"
            placeholder="what need to do..."
        >
        <button class="control__btn" (click)="todoListService.addTodo()">Save</button>
    </div>


    <div class="todo-item" *ngFor="let todo of todoListService.todos; let i = index">
        <div class="todo-item-left">
            <input
                class="todo-item-left__custom-checkbox"
                type="checkbox"
                [(ngModel)]="todo.completed"
            >
            <div 
                *ngIf="!todo.editing; else editingTodo"
                class="todo-item-label"
                (dblclick)="todoListService.editTodo(todo)"
                [ngClass]=" { 'completed' : todo.completed} ">
                {{ i + 1 }}. {{ todo.title }} 
            </div>
            <ng-template #editingTodo>
                <input
                    type="text"
                    class="todo-item__edit"
                    [(ngModel)]="todo.title"
                    (blur)="todoListService.doneEdit(todo)"
                    (keyup.enter)="todoListService.doneEdit(todo)"
                    (keyup.esc)="todoListService.cancelEdit(todo)"
                    autofocus
                >
            </ng-template>
        </div>
        <div class="remove-item" (click)="todoListService.deleteTodo(todo.id)">
            &times;
        </div>
    </div>
    <div class="extra-container">
        <label class="check-all" (change)="todoListService.checkAllTodos()">
            <input type="checkbox" class="check-all__input">
            <div>Check All</div>
        </label>
        <ng-container *ngIf="true">
            <div class="extra-container__item-left">
                {{ todoListService.remaining() }} items left
            </div>
        </ng-container> 
    </div>

    <button class="header__btn" (click)="todoListService.save()">save localStorage</button>
</div>


<div class="loading" *ngIf="todoListService.isLoading">
    loading...
</div> -->
